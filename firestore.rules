// Regla básica de Firestore
service cloud.firestore {
  match /databases/{database}/documents {

    // Permite a cualquier usuario autenticado leer y escribir en la colección 'meetups'
    match /meetups/{meetupId} {
      allow read, write: if request.auth != null;
    }

    // Permite a los usuarios leer cualquier documento en la colección 'users',
    // pero solo el dueño puede escribir su propio documento
    match /users/{userId} {
      allow read: if true; // Cualquiera puede leer
      allow write: if request.auth != null && request.auth.uid == userId; // Solo el dueño puede escribir
    }

    // Permite solo la lectura pública de documentos en una colección llamada 'public'
    match /public/{document=**} {
      allow read: if true; // Cualquiera puede leer
      allow write: if false; // Nadie puede escribir
    }
  }
}
